2025-10-29 00:39:33 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\mazen\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.


2025-10-29 00:39:35 [WRN] Microsoft.EntityFrameworkCore.Model.Validation Entity 'Product' has a global query filter defined and is the required end of a relationship with the entity 'GuestCart'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.


2025-10-29 00:39:35 [WRN] Microsoft.EntityFrameworkCore.Model.Validation Entity 'Product' has a global query filter defined and is the required end of a relationship with the entity 'InventoryTransaction'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.


2025-10-29 00:39:35 [WRN] Microsoft.EntityFrameworkCore.Model.Validation Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'Order'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.


2025-10-29 00:39:35 [WRN] Microsoft.EntityFrameworkCore.Model.Validation Entity 'Product' has a global query filter defined and is the required end of a relationship with the entity 'OrderDetails'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.


2025-10-29 00:39:35 [WRN] Microsoft.EntityFrameworkCore.Model.Validation Entity 'Product' has a global query filter defined and is the required end of a relationship with the entity 'ProductImage'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.


2025-10-29 00:39:35 [WRN] Microsoft.EntityFrameworkCore.Model.Validation Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'RefreshToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.


2025-10-29 00:39:35 [WRN] Microsoft.EntityFrameworkCore.Model.Validation Entity 'Product' has a global query filter defined and is the required end of a relationship with the entity 'Review'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.


2025-10-29 00:39:35 [WRN] Microsoft.EntityFrameworkCore.Model.Validation Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'UserAddress'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.


2025-10-29 00:39:35 [WRN] Microsoft.EntityFrameworkCore.Model.Validation Entity 'Product' has a global query filter defined and is the required end of a relationship with the entity 'UsersCart'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.


2025-10-29 00:39:35 [WRN] Microsoft.EntityFrameworkCore.Model.Validation No store type was specified for the decimal property 'TotalPrice' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.


2025-10-29 00:39:35 [WRN] Microsoft.EntityFrameworkCore.Model.Validation No store type was specified for the decimal property 'SubPrice' on entity type 'OrderDetails'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.


2025-10-29 00:39:35 [WRN] Microsoft.EntityFrameworkCore.Model.Validation No store type was specified for the decimal property 'UnitPrice' on entity type 'OrderDetails'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.


2025-10-29 00:39:35 [WRN] Microsoft.EntityFrameworkCore.Model.Validation No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.


2025-10-29 00:39:35 [INF] ONO.Application.Services.CartServices Cleaning up expired items in user and guest cart


2025-10-29 00:39:35 [INF] ONO.Application.Services.CartServices Getting all ONO.Core.Entities.UsersCart from services


2025-10-29 00:39:37 [INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:7146


2025-10-29 00:39:37 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5205


2025-10-29 00:39:37 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.


2025-10-29 00:39:37 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development


2025-10-29 00:39:37 [INF] Microsoft.Hosting.Lifetime Content root path: D:\Mazen\Projects\ONO\ONO.API


2025-10-29 00:39:37 [INF] ONO.Application.Services.Services Getting all ONO.Core.Entities.GuestCart from services


2025-10-29 00:39:37 [INF] ONO.Application.Services.CartServices save chages in services


2025-10-29 00:39:37 [INF] ONO.Application.Services.CartServices All Cart products have been deleted âœ…!


2025-10-29 00:39:38 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7146/index.html - null null


2025-10-29 00:39:40 [INF] Serilog.AspNetCore.RequestLoggingMiddleware HTTP GET /index.html responded 200 in 1874.9912 ms


2025-10-29 00:39:40 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7146/index.html - 200 null text/html;charset=utf-8 2077.045ms


2025-10-29 00:39:40 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7146/index.js - null null


2025-10-29 00:39:40 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7146/_framework/aspnetcore-browser-refresh.js - null null


2025-10-29 00:39:40 [INF] Serilog.AspNetCore.RequestLoggingMiddleware HTTP GET /index.js responded 200 in 6.0692 ms


2025-10-29 00:39:40 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7146/index.js - 200 null application/javascript;charset=utf-8 11.5881ms


2025-10-29 00:39:40 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7146/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 12.7354ms


2025-10-29 00:39:40 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7146/_vs/browserLink - null null


2025-10-29 00:39:40 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7146/_vs/browserLink - 200 null text/javascript; charset=UTF-8 54.0022ms


2025-10-29 00:39:40 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7146/swagger/v1/swagger.json - null null


2025-10-29 00:39:40 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7146/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 201.3778ms


2025-10-29 00:48:05 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:7146/api/Auth/Refresh - null 0


2025-10-29 00:48:05 [INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService CORS policy execution failed.


2025-10-29 00:48:05 [INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService Request origin https://localhost:7146 does not have permission to access the resource.


2025-10-29 00:48:05 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'ONO.API.Controllers.AuthController.Refresh (ONO.API)'


2025-10-29 00:48:05 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh() on controller ONO.API.Controllers.AuthController (ONO.API).


2025-10-29 00:48:05 [INF] ONO.Application.Services.Services Getting single entity of type ONO.Core.Entities.RefreshToken from services


2025-10-29 00:48:05 [INF] ONO.Application.Services.AuthServices Gererating an access token...


2025-10-29 00:48:05 [INF] ONO.Application.Services.AuthServices Access token generated successfully


2025-10-29 00:48:05 [INF] ONO.Application.Services.Services Getting single entity of type ONO.Core.Entities.RefreshToken from services


2025-10-29 00:48:05 [INF] ONO.Application.Services.Services Updating entity of typeONO.Core.Entities.RefreshToken from services


2025-10-29 00:48:05 [INF] ONO.Application.Services.Services save chages in services


2025-10-29 00:48:06 [INF] ONO.API.Controllers.AuthController Generating cookies...


2025-10-29 00:48:06 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.


2025-10-29 00:48:06 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action ONO.API.Controllers.AuthController.Refresh (ONO.API) in 1064.9985ms


2025-10-29 00:48:06 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'ONO.API.Controllers.AuthController.Refresh (ONO.API)'


2025-10-29 00:48:06 [INF] Serilog.AspNetCore.RequestLoggingMiddleware HTTP POST /api/Auth/Refresh responded 200 in 1091.9909 ms


2025-10-29 00:48:06 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:7146/api/Auth/Refresh - 200 null application/json; charset=utf-8 1096.4203ms


2025-10-29 00:48:43 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7146/api/Auth/Get-userRoles - null null


2025-10-29 00:48:43 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'ONO.API.Controllers.AuthController.GetUserRoles (ONO.API)'


2025-10-29 00:48:43 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetUserRoles", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserRoles() on controller ONO.API.Controllers.AuthController (ONO.API).


2025-10-29 00:48:43 [INF] ONO.Application.Services.Services Getting single entity of type ONO.Core.Entities.RefreshToken from services


2025-10-29 00:48:43 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType2`3[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.


2025-10-29 00:48:43 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action ONO.API.Controllers.AuthController.GetUserRoles (ONO.API) in 74.5469ms


2025-10-29 00:48:43 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'ONO.API.Controllers.AuthController.GetUserRoles (ONO.API)'


2025-10-29 00:48:43 [INF] Serilog.AspNetCore.RequestLoggingMiddleware HTTP GET /api/Auth/Get-userRoles responded 200 in 172.5997 ms


2025-10-29 00:48:43 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7146/api/Auth/Get-userRoles - 200 null application/json; charset=utf-8 175.9891ms


2025-10-29 00:48:49 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7146/api/Cart/GetUsersCart - null null


2025-10-29 00:48:49 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'ONO.API.Controllers.CartController.GetUsersCart (ONO.API)'


2025-10-29 00:48:49 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetUsersCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersCart() on controller ONO.API.Controllers.CartController (ONO.API).


2025-10-29 00:48:50 [INF] ONO.Application.Services.CartServices Getting all ONO.Core.Entities.UsersCart from services


2025-10-29 00:48:50 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ONO.Application.DTOs.UsersCartDTOs.UsersCartDTO, ONO.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.


2025-10-29 00:48:50 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action ONO.API.Controllers.CartController.GetUsersCart (ONO.API) in 169.2884ms


2025-10-29 00:48:50 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'ONO.API.Controllers.CartController.GetUsersCart (ONO.API)'


2025-10-29 00:48:50 [INF] Serilog.AspNetCore.RequestLoggingMiddleware HTTP GET /api/Cart/GetUsersCart responded 200 in 178.0876 ms


2025-10-29 00:48:50 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7146/api/Cart/GetUsersCart - 200 null application/json; charset=utf-8 180.3735ms


2025-10-29 00:48:54 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:7146/api/Category/GetCategories - null null


2025-10-29 00:48:54 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'ONO.API.Controllers.CategoryController.GetAllCategory (ONO.API)'


2025-10-29 00:48:54 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetAllCategory", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategory() on controller ONO.API.Controllers.CategoryController (ONO.API).


2025-10-29 00:48:55 [INF] ONO.Application.Services.Services Getting all ONO.Core.Entities.Category from services


2025-10-29 00:48:55 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ONO.Core.Entities.Category, ONO.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.


2025-10-29 00:48:55 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action ONO.API.Controllers.CategoryController.GetAllCategory (ONO.API) in 39.804ms


2025-10-29 00:48:55 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'ONO.API.Controllers.CategoryController.GetAllCategory (ONO.API)'


2025-10-29 00:48:55 [INF] Serilog.AspNetCore.RequestLoggingMiddleware HTTP GET /api/Category/GetCategories responded 200 in 57.3222 ms


2025-10-29 00:48:55 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:7146/api/Category/GetCategories - 200 null application/json; charset=utf-8 58.6448ms


