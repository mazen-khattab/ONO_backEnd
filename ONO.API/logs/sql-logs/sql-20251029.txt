2025-10-29 00:39:37 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (275ms) [Parameters=[@__date_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [UsersCart] AS [u]
WHERE [u].[CreatedAt] <= @__date_0


2025-10-29 00:39:37 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (7ms) [Parameters=[@__date_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreatedAt], [u].[ProductAmount], [u].[ProductID], [u].[UserId]
FROM [UsersCart] AS [u]
WHERE [u].[CreatedAt] <= @__date_0


2025-10-29 00:39:37 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (7ms) [Parameters=[@__date_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [GuestsCart] AS [g]
WHERE [g].[ExpireAt] <= @__date_0


2025-10-29 00:39:37 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (6ms) [Parameters=[@__date_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[ExpireAt], [g].[ProductAmount], [g].[ProductId], [g].[UserId]
FROM [GuestsCart] AS [g]
WHERE [g].[ExpireAt] <= @__date_0


2025-10-29 00:48:05 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (33ms) [Parameters=[@__token_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [RefreshToken] AS [r]
WHERE [r].[Token] = @__token_0


2025-10-29 00:48:05 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (44ms) [Parameters=[@__token_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[ExpDate], [r].[Token], [r].[UserId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[Email], [u0].[EmailConfirmed], [u0].[Fname], [u0].[IsDeleted], [u0].[Lname], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName]
FROM [RefreshToken] AS [r]
INNER JOIN (
    SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[Fname], [u].[IsDeleted], [u].[Lname], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS bit)
) AS [u0] ON [r].[UserId] = [u0].[Id]
WHERE [r].[Token] = @__token_0


2025-10-29 00:48:05 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Name]
FROM [UserRoles] AS [u]
INNER JOIN (
    SELECT [r].[Id], [r].[Name]
    FROM [Roles] AS [r]
    WHERE [r].[IsDeleted] = CAST(0 AS bit)
) AS [r0] ON [u].[RoleId] = [r0].[Id]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[UserId] = @__userId_0


2025-10-29 00:48:05 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [RefreshToken] AS [r]
WHERE [r].[UserId] = @__user_Id_0


2025-10-29 00:48:05 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[ExpDate], [r].[Token], [r].[UserId]
FROM [RefreshToken] AS [r]
WHERE [r].[UserId] = @__user_Id_0


2025-10-29 00:48:06 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (25ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RefreshToken] SET [ExpDate] = @p0, [Token] = @p1, [UserId] = @p2
OUTPUT 1
WHERE [Id] = @p3;


2025-10-29 00:48:43 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (23ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [RefreshToken] AS [r]
WHERE [r].[Token] = @__refreshToken_0


2025-10-29 00:48:43 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (11ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[ExpDate], [r].[Token], [r].[UserId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[Email], [u0].[EmailConfirmed], [u0].[Fname], [u0].[IsDeleted], [u0].[Lname], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName]
FROM [RefreshToken] AS [r]
INNER JOIN (
    SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[Fname], [u].[IsDeleted], [u].[Lname], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS bit)
) AS [u0] ON [r].[UserId] = [u0].[Id]
WHERE [r].[Token] = @__refreshToken_0


2025-10-29 00:48:43 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Name]
FROM [UserRoles] AS [u]
INNER JOIN (
    SELECT [r].[Id], [r].[Name]
    FROM [Roles] AS [r]
    WHERE [r].[IsDeleted] = CAST(0 AS bit)
) AS [r0] ON [u].[RoleId] = [r0].[Id]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[UserId] = @__userId_0


2025-10-29 00:48:50 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [UsersCart] AS [u]
WHERE [u].[UserId] = @__userId_0


2025-10-29 00:48:50 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreatedAt], [u].[ProductAmount], [u].[ProductID], [u].[UserId], [p0].[Id], [p0].[AgeRange], [p0].[CategoryId], [p0].[CreatedAt], [p0].[Description], [p0].[ImageUrl], [p0].[IsDeleted], [p0].[IsSpecial], [p0].[Name], [p0].[Price], [p0].[Reserved], [p0].[StockUnit], [p0].[UpdatedAt]
FROM [UsersCart] AS [u]
INNER JOIN (
    SELECT [p].[Id], [p].[AgeRange], [p].[CategoryId], [p].[CreatedAt], [p].[Description], [p].[ImageUrl], [p].[IsDeleted], [p].[IsSpecial], [p].[Name], [p].[Price], [p].[Reserved], [p].[StockUnit], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [u].[ProductID] = [p0].[Id]
WHERE [u].[UserId] = @__userId_0


2025-10-29 00:48:55 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c]


2025-10-29 00:48:55 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name]
FROM [Categories] AS [c]


